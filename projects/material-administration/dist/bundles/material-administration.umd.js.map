{"version":3,"file":"material-administration.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://material-administration/lib/services/data-adapter.service.ts","ng://material-administration/lib/components/metadata/metadata.component.ts","ng://material-administration/lib/components/metadata/metadata.component.html","ng://material-administration/lib/services/snackbar.service.ts","ng://material-administration/lib/services/value-format.service.ts","ng://material-administration/lib/components/breadcrumbs/breadcrumbs.component.html","ng://material-administration/lib/components/breadcrumbs/breadcrumbs.component.ts","ng://material-administration/lib/components/form/form.component.html","ng://material-administration/lib/components/form/form.component.ts","ng://material-administration/lib/components/add/add.component.html","ng://material-administration/lib/components/add/add.component.ts","ng://material-administration/lib/components/list/list.component.html","ng://material-administration/lib/components/list/list.component.ts","ng://material-administration/lib/components/update/update.component.html","ng://material-administration/lib/components/update/update.component.ts","ng://material-administration/lib/components/menu/menu.component.html","ng://material-administration/lib/components/menu/menu.component.ts","ng://material-administration/lib/material-administration.module.ts","ng://material-administration/lib/material-administration.routes.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { DataAdapterInterface, DownloadData } from './data-adapter';\r\nimport { from, Subject, Observable } from 'rxjs';\r\nimport * as firebase from 'firebase/app';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { finalize, filter } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataAdapterService implements DataAdapterInterface {\r\n  constructor(\r\n    private db: AngularFirestore,\r\n    private storage: AngularFireStorage\r\n  ) { }\r\n\r\n  get(collection: string, id: string) {\r\n    return this.db.collection(collection).doc(id).valueChanges();\r\n  }\r\n\r\n  list(collection: string, idField: string) {\r\n    return this.db.collection(collection).valueChanges({ idField });\r\n  }\r\n\r\n  add(collection: string, item: any) {\r\n    return from(this.db.collection(collection).add(item));\r\n  }\r\n\r\n  update(collection: string, id: string, item: any) {\r\n    return from(this.db.collection(collection).doc(id).update(item));\r\n  }\r\n\r\n  delete(collection: string, id: string) {\r\n    return from(this.db.collection(collection).doc(id).delete());\r\n  }\r\n\r\n  upload(file: File): Observable<DownloadData> {\r\n    const path = uuidv4() + '_' + file?.name;\r\n    const fileRef = this.storage.ref(path);\r\n    const task = this.storage.upload(path, file);\r\n    const downloadData$ = new Subject<DownloadData>();\r\n\r\n    task.snapshotChanges().pipe(\r\n      finalize(() => {\r\n        fileRef.getDownloadURL().subscribe(downloadUrl => {\r\n          downloadData$.next({\r\n            downloadUrl,\r\n            path\r\n          });\r\n          downloadData$.complete();\r\n        });\r\n      })\r\n    ).subscribe();\r\n\r\n    return downloadData$.pipe(filter(Boolean)) as Observable<DownloadData>;\r\n  }\r\n\r\n  removeUpload(filePath: string) {\r\n    return this.storage.ref(filePath).delete();\r\n  }\r\n\r\n  getTimestamp() {\r\n    return firebase.firestore.FieldValue.serverTimestamp();\r\n  }\r\n}\r\n","import { Component, OnDestroy, Optional, Inject } from '@angular/core';\r\nimport { BehaviorSubject, of, forkJoin, Subject, Observable } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { map, shareReplay, switchMap, take, catchError, takeUntil, tap } from 'rxjs/operators';\r\nimport { capitalize } from 'lodash';\r\nimport { DataAdapterService } from '../../services/data-adapter.service';\r\nimport { DownloadData } from '../../services';\r\nimport { MatAdministrationEntity } from '../../types/material-administration-metadata';\r\n\r\n@Component({\r\n  selector: 'mat-administration-metadata',\r\n  templateUrl: './metadata.component.html',\r\n  styleUrls: ['./metadata.component.scss']\r\n})\r\nexport class MetadataComponent implements OnDestroy {\r\n  metadata$: BehaviorSubject<any> = new BehaviorSubject(null);\r\n  collectionPath$: BehaviorSubject<string> = new BehaviorSubject(null);\r\n  collectionName$: BehaviorSubject<string> = new BehaviorSubject(null);\r\n  subCollections$: BehaviorSubject<MatAdministrationEntity[]> = new BehaviorSubject(null);\r\n  isLoading$: BehaviorSubject<boolean> = new BehaviorSubject(true);\r\n  destroyed$ = new Subject();\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    public dataAdapterService: DataAdapterService,\r\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') public metadata: any\r\n  ) {\r\n    this.route.params.pipe(\r\n      map(params => params?.collection),\r\n      tap(() => this.isLoading$.next(true)),\r\n      takeUntil(this.destroyed$)\r\n    )\r\n      .subscribe(this.collectionPath$);\r\n\r\n    this.collectionPath$.pipe(\r\n      map(collectionPath => collectionPath.replace(/\\:/gi, '\\/')),\r\n      shareReplay(1)\r\n    )\r\n      .subscribe(this.collectionName$);\r\n\r\n    this.collectionName$.pipe(\r\n      map(name => this.getMetadata(name, metadata)),\r\n      shareReplay(1)\r\n    ).subscribe(this.metadata$);\r\n\r\n    this.metadata$.pipe(\r\n      map(metadata => {\r\n        if (!metadata?.entities) {\r\n          return null;\r\n        }\r\n\r\n        return Object.keys(metadata.entities).map(key => {\r\n          return {\r\n            id: key,\r\n            ...metadata.entities[key]\r\n          };\r\n        });\r\n      })\r\n    ).subscribe(this.subCollections$);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next();\r\n    this.destroyed$.complete();\r\n  }\r\n\r\n  getFieldLabel(field: any): string {\r\n    if (typeof field === 'string') {\r\n      return capitalize(field);\r\n    }\r\n\r\n    return capitalize(field?.label);\r\n  }\r\n\r\n  getFields() {\r\n    return this.metadata$.pipe(\r\n      map(metadata => {\r\n        const entries = Object.entries(metadata?.fields);\r\n\r\n        return entries\r\n          .map(\r\n            ([key, value]) => typeof value === 'object' ?\r\n              { ...value, name: key, label: ((value as any)?.label || this.getFieldLabel(key)) } :\r\n              { name: key, label: this.getFieldLabel(key) }\r\n          )\r\n          .filter(field => this.showField(metadata, field));\r\n      }),\r\n      switchMap(fields => forkJoin(fields.map(field => this.addAdditionalMetadata(field)))),\r\n      catchError(error => {\r\n        console.error(error);\r\n\r\n        return of([]);\r\n      }),\r\n      shareReplay(1)\r\n    );\r\n  }\r\n\r\n  processUploads(item, metadata, action: 'add' | 'update') {\r\n    const filesKeys = Object.keys(item)\r\n      .filter(key => Array.isArray(item[key]) && item[key][0] instanceof File);\r\n\r\n    if (filesKeys.length) {\r\n      const itemUpdates = {};\r\n\r\n      return forkJoin(filesKeys.map(key => {\r\n        return this.dataAdapterService.upload(item[key][0]).pipe(\r\n          map(downloadData => {\r\n            return { key, downloadData };\r\n          }),\r\n          catchError(error => {\r\n            console.error(error);\r\n\r\n            return of(null);\r\n          })\r\n        ) as Observable<{ key: string, downloadData: DownloadData }>;\r\n      })).pipe(\r\n        map((uploadedFiles) => {\r\n          if (uploadedFiles) {\r\n            uploadedFiles.forEach(uploadedFile => {\r\n              itemUpdates[uploadedFile?.key] = uploadedFile?.downloadData?.downloadUrl;\r\n              itemUpdates[uploadedFile?.key + 'Path'] = uploadedFile?.downloadData?.path;\r\n            });\r\n          }\r\n\r\n          return {\r\n            ...item,\r\n            ...itemUpdates\r\n          };\r\n        })\r\n      );\r\n    }\r\n\r\n    return of(item);\r\n  }\r\n\r\n  getWithTimestamps(item, action: 'add' | 'update') {\r\n    const newItem = { ...item };\r\n\r\n    const timestamp = this.dataAdapterService.getTimestamp();\r\n    if (action === 'add' && this.metadata$.getValue()?.createdTimestamp) {\r\n      newItem[this.metadata$.getValue()?.createdTimestamp] = timestamp;\r\n    }\r\n    if (this.metadata$.getValue()?.updatedTimestamp) {\r\n      newItem[this.metadata$.getValue()?.updatedTimestamp] = timestamp;\r\n    }\r\n\r\n    return newItem;\r\n  }\r\n\r\n  getFieldMedatada(field: string) {\r\n    return this.metadata$.getValue()?.entities?.[field];\r\n  }\r\n\r\n  private getMetadata(collectionName: string, metadata: any) {\r\n    const nameParts = collectionName.split('/');\r\n\r\n    if (nameParts.length === 1) {\r\n      return metadata.entities[nameParts[0]] || null;\r\n    }\r\n\r\n    return this.getMetadata(nameParts.slice(2).join('/'), metadata.entities[nameParts[0]]);\r\n  }\r\n\r\n  private addAdditionalMetadata(field) {\r\n    if ((field?.inputType === 'select' || field?.inputType === 'radio') && field?.data?.type === 'collection') {\r\n      return this.dataAdapterService.list(field?.data?.collection, field?.data?.collectionValue)\r\n        .pipe(\r\n          take(1),\r\n          map(docs => {\r\n            return {\r\n              ...field,\r\n              options: docs.map(doc => {\r\n                return {\r\n                  value: doc[field?.data?.collectionValue],\r\n                  label: doc[field?.data?.collectionLabel]\r\n                };\r\n              })\r\n            };\r\n          })\r\n        );\r\n    }\r\n\r\n    return of(field);\r\n  }\r\n\r\n  private showField(metadata, field) {\r\n    return field.name !== 'id' &&\r\n      (!metadata?.createdTimestamp || metadata?.createdTimestamp !== field.name) &&\r\n      (!metadata?.updatedTimestamp || metadata?.updatedTimestamp !== field.name);\r\n  }\r\n}\r\n","<p>metadata works!</p>\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnackbarService {\n\n  constructor(\n    private snackbar: MatSnackBar\n  ) { }\n\n  error(message) {\n    this.snackbar.open(message,  'Close', {\n      duration: 3000,\n      panelClass: 'snackbar-error'\n    });\n  }\n\n  success(message) {\n    this.snackbar.open(message,  'Close', {\n      duration: 3000,\n      panelClass: 'snackbar-success'\n    });\n  }\n}\n","import { Injectable, Optional, Inject } from '@angular/core';\nimport { DatePipe } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ValueFormatService {\n  constructor(\n    private datePipe: DatePipe,\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') private metadata: any\n  ) { }\n\n  transform(value: any, type: string, options = null) {\n    switch (type) {\n      case 'timestamp':\n        return this.datePipe.transform(\n          value?.toDate(),\n          options?.format || this.metadata?.timestampFormat,\n          options.timezone,\n          options?.locale\n        );\n      default:\n        return value;\n    }\n  }\n}\n","<div fxLayout=\"row\"\r\n     fxAlign=\"start\">\r\n  <ng-container *ngFor=\"let item of links$ | async; let last = last\">\r\n    <div fxLayout=\"row\"\r\n         fxLayoutAlign=\"start center\">\r\n      <a mat-button\r\n         [routerLink]=\"item.url\">\r\n        <ng-container *ngIf=\"item.source\">\r\n          {{(item.source | async)}}\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!item.source\">\r\n          {{item.name}}\r\n        </ng-container>\r\n      </a>\r\n      <mat-icon *ngIf=\"!last\">arrow_right</mat-icon>\r\n    </div>\r\n  </ng-container>\r\n</div>\r\n","import { Component, OnInit, Input, Optional, Inject } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { MatAdministrationEntity, MatAdministrationMetadata } from '../../types';\r\nimport { capitalize } from 'lodash';\r\nimport { map } from 'rxjs/operators';\r\nimport { DataAdapterService } from '../../services';\r\n\r\n@Component({\r\n  selector: 'mat-administration-breadcrumbs',\r\n  templateUrl: './breadcrumbs.component.html',\r\n  styleUrls: ['./breadcrumbs.component.css']\r\n})\r\nexport class BreadcrumbsComponent implements OnInit {\r\n  @Input() set collectionName(value: string) {\r\n    this.collectionName$.next(value);\r\n  }\r\n  get collectionName() {\r\n    return this.collectionName$.getValue();\r\n  }\r\n\r\n  @Input() action: 'add' | 'update' | 'list';\r\n\r\n  links$: Observable<any>;\r\n\r\n  private collectionName$ = new BehaviorSubject('');\r\n\r\n  constructor(\r\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') public metadata: MatAdministrationMetadata,\r\n    public dataAdapterService: DataAdapterService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.links$ = this.collectionName$.pipe(\r\n      map(collectionName => {\r\n        const parts = collectionName.split('/');\r\n        return this.getLinks(parts, this.metadata.entities[parts[0]]);\r\n      })\r\n    );\r\n  }\r\n\r\n  private getLinks(parts: string[], metadata: Partial<MatAdministrationEntity>, url = '/') {\r\n    if (parts.length === 1) {\r\n      return this.getPartUrls(parts[0], metadata, url, this.action);\r\n    }\r\n\r\n    return [\r\n      ...this.getPartUrls(parts[0], metadata, url, 'list'),\r\n      this.getItemUrl(parts[0], parts[1], metadata, url),\r\n      ...this.getLinks(parts.slice(2), metadata.entities[parts[2]], `${url}${parts[0]}:${parts[1]}:`)\r\n    ];\r\n  }\r\n\r\n  private getItemUrl(collection, itemId, metadata, baseUrl) {\r\n    return {\r\n      name: metadata.titleField || 'title',\r\n      source: this.dataAdapterService.get(collection, itemId).pipe(map(data => data?.[metadata.titleField || 'title'])),\r\n      url: [`${baseUrl}${collection}/update/${itemId}`]\r\n    };\r\n  }\r\n\r\n  private getPartUrls(part, metadata, baseUrl = '', action = 'list', itemId = '') {\r\n    if (action === 'list') {\r\n      return [{\r\n        name: capitalize(metadata.plural),\r\n        url: [`${baseUrl}${part}/list`]\r\n      }];\r\n    }\r\n\r\n    if (action === 'add') {\r\n      return [\r\n        {\r\n          name: capitalize(metadata.plural),\r\n          url: [`${baseUrl}${part}/list`]\r\n        },\r\n        {\r\n          name: `Add ${metadata.single}`,\r\n          url: null\r\n        }\r\n      ];\r\n    }\r\n\r\n    if (action === 'update') {\r\n      return [\r\n        {\r\n          name: capitalize(metadata.plural),\r\n          url: [`${baseUrl}${part}/list`]\r\n        },\r\n        {\r\n          name: `Update ${metadata.single}`,\r\n          url: null\r\n        }\r\n      ];\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"form\"\r\n      (ngSubmit)=\"submit()\">\r\n  <ng-container *ngIf=\"fields\">\r\n\r\n    <div *ngFor=\"let field of fields\">\r\n      <ng-container *ngTemplateOutlet=\"formField; context: {field: field}\"></ng-container>\r\n    </div>\r\n    <div class=\"flex justify-end\">\r\n      <button mat-raised-button\r\n              color=\"primary\"\r\n              type=\"submit\">Save\r\n      </button>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #formField\r\n               let-field=\"field\">\r\n    <div class=\"form-field-container\" [ngStyle]=\"field?.style?.form\">\r\n      <ng-container [ngSwitch]=\"field?.inputType\">\r\n        <!-- ckeditor -->\r\n        <div *ngSwitchCase=\"'ckeditor'\"\r\n             class=\"ckeditor\">\r\n          <label>{{field?.label}}</label>\r\n          <ckeditor [formControlName]=\"field?.name\"\r\n                    [editor]=\"Editor\"></ckeditor>\r\n        </div>\r\n        <!-- textarea -->\r\n        <mat-form-field *ngSwitchCase=\"'textarea'\">\r\n          <mat-label>{{field?.label}}</mat-label>\r\n          <textarea matInput\r\n                    [formControlName]=\"field?.name\"></textarea>\r\n        </mat-form-field>\r\n        <!-- select -->\r\n        <mat-form-field *ngSwitchCase=\"'select'\">\r\n          <mat-label>{{field?.label}}</mat-label>\r\n          <mat-select [formControlName]=\"field?.name\">\r\n            <mat-option *ngFor=\"let option of field?.options\"\r\n                        [value]=\"option?.value\">\r\n              {{option?.label}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <!-- radio -->\r\n        <div *ngSwitchCase=\"'radio'\"\r\n             class=\"radio\">\r\n          <mat-label>{{field?.label}}:</mat-label>\r\n          <mat-radio-group [formControlName]=\"field?.name\"\r\n                           color=\"primary\">\r\n            <mat-radio-button *ngFor=\"let option of field?.options\"\r\n                              [value]=\"option?.value\">{{option?.label}}</mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <!-- datepicker -->\r\n        <mat-form-field *ngSwitchCase=\"'datepicker'\">\r\n          <mat-label>{{field?.label}}</mat-label>\r\n          <input matInput\r\n                 [formControlName]=\"field?.name\"\r\n                 [matDatepicker]=\"picker\">\r\n          <mat-datepicker-toggle matSuffix\r\n                                 [for]=\"picker\"></mat-datepicker-toggle>\r\n          <mat-datepicker touchUi\r\n                          #picker></mat-datepicker>\r\n        </mat-form-field>\r\n        <!-- checkbox -->\r\n        <div *ngSwitchCase=\"'checkbox'\"\r\n             class=\"checkbox\">\r\n          <mat-checkbox [formControlName]=\"field?.name\"\r\n                        color=\"primary\"\r\n                        [value]=\"true\">{{field?.label}}</mat-checkbox>\r\n        </div>\r\n        <!-- slide togle -->\r\n        <div *ngSwitchCase=\"'toggle'\"\r\n             class=\"checkbox\">\r\n          <mat-slide-toggle color=\"primary\"\r\n                            [formControlName]=\"field?.name\">\r\n            {{field?.label}}\r\n          </mat-slide-toggle>\r\n        </div>\r\n        <!-- file upload -->\r\n        <mat-form-field *ngSwitchCase=\"'file'\">\r\n          <mat-label>{{field?.label}}</mat-label>\r\n          <mat-file-input [formControlName]=\"field?.name\"\r\n                          [placeholder]=\"field?.placeholder\"></mat-file-input>\r\n        </mat-form-field>\r\n        <!-- image upload -->\r\n        <div *ngSwitchCase=\"'image'\">\r\n          <div *ngIf=\"field?.value\">\r\n            <mat-label>{{field?.label}}</mat-label>\r\n            <div fxLayout=\"row\"\r\n                 fxLayoutAlign=\"start\">\r\n              <img class=\"file-input-image\"\r\n                   [src]=\"field?.value\"\r\n                   alt=\"field?.label\" />\r\n              <button type=\"button\"\r\n                      mat-raised-button\r\n                      (click)=\"removeImage(field)\">Remove</button>\r\n            </div>\r\n          </div>\r\n\r\n          <mat-form-field *ngIf=\"!field?.value\">\r\n            <mat-label>{{field?.label}}</mat-label>\r\n            <mat-file-input [formControlName]=\"field?.name\"\r\n                            [placeholder]=\"field?.placeholder\"></mat-file-input>\r\n\r\n          </mat-form-field>\r\n        </div>\r\n        <!-- text input -->\r\n        <mat-form-field *ngSwitchDefault>\r\n          <mat-label>{{field?.label}}</mat-label>\r\n          <input matInput\r\n                 [formControlName]=\"field?.name\"\r\n                 [placeholder]=\"field?.placeholder\">\r\n        </mat-form-field>\r\n      </ng-container>\r\n    </div>\r\n  </ng-template>\r\n\r\n</form>\r\n","import { Component, OnInit, ChangeDetectionStrategy, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport * as ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\n@Component({\r\n  selector: 'mat-administration-form',\r\n  templateUrl: './form.component.html',\r\n  styleUrls: ['./form.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormComponent implements OnInit, OnDestroy {\r\n  @Input() fields: any[];\r\n  @Output() save: EventEmitter<any> = new EventEmitter();\r\n  @Output() valueChanges: EventEmitter<any> = new EventEmitter();\r\n\r\n  form: FormGroup;\r\n  Editor = ClassicEditor;\r\n\r\n  private destroyed$: Subject<void> = new Subject();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.fields) {\r\n      this.form = this.formBuilder.group(\r\n        this.fields?.reduce((prev, cur) => {\r\n          return { ...prev, [cur?.name]: [this.getFieldValue(cur), this.getFieldValidators(cur)] };\r\n        }, {})\r\n      );\r\n\r\n      this.form.valueChanges.pipe(\r\n        takeUntil(this.destroyed$)\r\n      ).subscribe(this.valueChanges);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next();\r\n    this.destroyed$.complete();\r\n  }\r\n\r\n  submit() {\r\n    if (this.form.valid) {\r\n      this.save.emit(this.form.value);\r\n    }\r\n  }\r\n\r\n  removeImage(field) {\r\n    field.value = null;\r\n    this.form.get(field.name).setValue(null);\r\n  }\r\n\r\n  private getFieldValue(field) {\r\n    return field?.value;\r\n  }\r\n\r\n  private getFieldValidators(field) {\r\n    return [Validators.required];\r\n  }\r\n}\r\n","<div class=\"loading-box-overflow\"\r\n     *ngIf=\"isLoading$ | async\">\r\n  <mat-spinner diameter=\"50\"></mat-spinner>\r\n</div>\r\n<ng-container *ngIf=\"metadata$ | async as metadata; else noMetadata\">\r\n  <mat-administration-breadcrumbs [collectionName]=\"collectionName$ | async\"\r\n                                  action=\"add\"></mat-administration-breadcrumbs>\r\n  <mat-toolbar class=\"justify-between\">\r\n    <h1>Add {{metadata?.single}}</h1>\r\n    <a mat-raised-button\r\n       color=\"warn\"\r\n       routerLink=\"/{{collectionPath$ | async}}/list\">\r\n      <mat-icon>keyboard_backspace</mat-icon> Cancel\r\n    </a>\r\n  </mat-toolbar>\r\n  <mat-card>\r\n    <mat-administration-form [fields]=\"fields$ | async\"\r\n                             *ngIf=\"fields$ | async\"\r\n                             (save)=\"save($event);\"></mat-administration-form>\r\n  </mat-card>\r\n</ng-container>\r\n\r\n<ng-template #noMetadata>\r\n  <mat-chip-list>\r\n    <mat-chip color=\"warn\">No entity metadata defined for&nbsp;<strong>{{collectionName$ | async}}</strong>!</mat-chip>\r\n  </mat-chip-list>\r\n</ng-template>\r\n","import { Component, Inject, Optional } from '@angular/core';\r\nimport { MetadataComponent } from '../metadata/metadata.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { take, tap, switchMap, map } from 'rxjs/operators';\r\nimport { SnackbarService } from '../../services/snackbar.service';\r\nimport { capitalize } from 'lodash';\r\nimport { DataAdapterService } from '../../services/data-adapter.service';\r\nimport { Immutable } from 'types/immutable';\r\n\r\n@Component({\r\n  selector: 'mat-administration-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent extends MetadataComponent {\r\n  fields$: Observable<any[]>;\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private snackbar: SnackbarService,\r\n    private router: Router,\r\n    public dataAdapterService: DataAdapterService,\r\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') public metadata: Immutable<any>\r\n  ) {\r\n    super(route, dataAdapterService, metadata);\r\n\r\n    this.fields$ = this.getFields().pipe(tap(() => { this.isLoading$.next(false); }));\r\n  }\r\n\r\n  save(item: any) {\r\n    this.isLoading$.next(true);\r\n    combineLatest([\r\n      this.metadata$,\r\n      this.collectionName$\r\n    ])\r\n      .pipe(\r\n        take(1),\r\n        switchMap(([metadata, collectionName]) => {\r\n          return this.processUploads(item, metadata, 'add').pipe(map(updatedItem => {\r\n            return [\r\n              metadata,\r\n              collectionName,\r\n              updatedItem\r\n            ];\r\n          }));\r\n        }),\r\n        switchMap(([_, collectionName, updatedItem]) =>\r\n          this.dataAdapterService.add(collectionName, this.getWithTimestamps(updatedItem, 'add'))\r\n        )\r\n      ).subscribe(\r\n        () => {\r\n          this.snackbar.success(`${capitalize(this.metadata$.getValue()?.single)} added successfully!`);\r\n          this.router.navigate([`/${this.collectionPath$.getValue()}/list`]);\r\n        },\r\n        () => this.snackbar.error(`There was an error adding ${this.metadata$.getValue()?.single}!`),\r\n        () => this.isLoading$.next(false)\r\n      );\r\n  }\r\n}\r\n","<div class=\"loading-box-overflow\"\r\n     *ngIf=\"isLoading$ | async\">\r\n  <mat-spinner diameter=\"50\"></mat-spinner>\r\n</div>\r\n<ng-container *ngIf=\"metadata$ | async as metadata; else noMetadata\">\r\n  <mat-administration-breadcrumbs [collectionName]=\"collectionName$ | async\"\r\n                                  action=\"list\"></mat-administration-breadcrumbs>\r\n  <mat-toolbar class=\"justify-between\">\r\n    <h1>Manage {{metadata?.plural}}</h1>\r\n    <button mat-raised-button\r\n            color=\"primary\"\r\n            routerLink=\"/{{collectionPath$ | async}}/add\">\r\n      <mat-icon>add</mat-icon> Add {{metadata?.single}}\r\n    </button>\r\n  </mat-toolbar>\r\n  <table mat-table\r\n         *ngIf=\"(list$ | async)?.length\"\r\n         [dataSource]=\"list$ | async\"\r\n         class=\"mat-elevation-z8\">\r\n    <ng-container *ngFor=\"let column of displayedColumns$ | async\">\r\n      <ng-container [matColumnDef]=\"column?.id\"\r\n                    *ngIf=\"column?.id != 'actions' && column?.id != 'entities'\">\r\n        <th mat-header-cell\r\n            *matHeaderCellDef> {{column?.label}} </th>\r\n        <td mat-cell\r\n            *matCellDef=\"let element\">\r\n          <ng-container [ngSwitch]=\"column?.format\">\r\n            <ng-container *ngSwitchCase=\"'image'\">\r\n              <img [src]=\"getValue(element, column?.id) | async\"\r\n                   class=\"list-image\"\r\n                   [style]=\"column?.style?.list\"\r\n                   [alt]=\"column?.id\" />\r\n            </ng-container>\r\n\r\n            <ng-container *ngSwitchDefault>\r\n              <span [style]=\"column?.style?.list\"\r\n                    [innerHTML]=\"getValue(element, column?.id) | async\"></span>\r\n            </ng-container>\r\n          </ng-container>\r\n        </td>\r\n      </ng-container>\r\n    </ng-container>\r\n\r\n    <ng-container matColumnDef=\"entities\">\r\n      <th mat-header-cell\r\n          *matHeaderCellDef>Manage</th>\r\n      <td mat-cell\r\n          *matCellDef=\"let element\">\r\n        <button mat-raised-button\r\n                [matMenuTriggerFor]=\"entitiesMenu\">More...</button>\r\n        <mat-menu #entitiesMenu=\"matMenu\">\r\n          <button *ngFor=\"let subCollection of subCollections$ | async\"\r\n                  mat-menu-item\r\n                  aria-label=\"Manage\"\r\n                  routerLink=\"/{{collectionName$ | async}}:{{element.id}}:{{subCollection?.id}}/list\">\r\n            {{subCollection?.plural | titlecase}}\r\n          </button>\r\n        </mat-menu>\r\n      </td>\r\n    </ng-container>\r\n\r\n    <ng-container matColumnDef=\"actions\">\r\n      <th mat-header-cell\r\n          *matHeaderCellDef></th>\r\n      <td mat-cell\r\n          *matCellDef=\"let element\">\r\n        <button mat-icon-button\r\n                aria-label=\"Edit\"\r\n                routerLink=\"/{{collectionPath$ | async}}/update/{{element.id}}\">\r\n          <mat-icon>edit</mat-icon>\r\n        </button>\r\n        <button mat-icon-button\r\n                color=\"warn\"\r\n                aria-label=\"Delete\"\r\n                (click)=\"delete(element)\">\r\n          <mat-icon>delete</mat-icon>\r\n        </button>\r\n      </td>\r\n    </ng-container>\r\n\r\n    <tr mat-header-row\r\n        *matHeaderRowDef=\"displayedColumnsNames$ | async\"></tr>\r\n    <tr mat-row\r\n        *matRowDef=\"let row; columns: displayedColumnsNames$ | async;\"></tr>\r\n  </table>\r\n\r\n  <mat-card *ngIf=\"!(list$ | async)?.length\">\r\n    No {{metadata?.plural}} added. <a mat-button\r\n       color=\"primary\"\r\n       routerLink=\"/{{collectionPath$ | async}}/add\">Add {{metadata?.single}}</a>\r\n  </mat-card>\r\n</ng-container>\r\n\r\n<ng-template #noMetadata>\r\n  <mat-chip-list>\r\n    <mat-chip color=\"warn\">No entity metadata defined for&nbsp;<strong>{{collectionName$ | async}}</strong>!</mat-chip>\r\n  </mat-chip-list>\r\n</ng-template>\r\n","import { Component, Optional, Inject } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map, switchMap, shareReplay, tap, withLatestFrom } from 'rxjs/operators';\r\nimport { ValueFormatService } from '../../services/value-format.service';\r\nimport { pickBy } from 'lodash';\r\nimport { MetadataComponent } from '../metadata/metadata.component';\r\nimport { SnackbarService } from '../../services/snackbar.service';\r\nimport { capitalize } from 'lodash';\r\nimport { DataAdapterService } from '../../services/data-adapter.service';\r\n\r\n@Component({\r\n  selector: 'mat-administration-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss']\r\n})\r\nexport class ListComponent extends MetadataComponent {\r\n  displayedColumns$: Observable<any[]>;\r\n  displayedColumnsNames$: Observable<string[]>;\r\n  list$: Observable<any[]>;\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private valueFormatService: ValueFormatService,\r\n    private snackbar: SnackbarService,\r\n    public dataAdapterService: DataAdapterService,\r\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') public metadata: any\r\n  ) {\r\n    super(route, dataAdapterService, metadata);\r\n\r\n    this.displayedColumns$ = this.getDisplayedColumns();\r\n    this.displayedColumnsNames$ = this.displayedColumns$.pipe(map(columns => columns.map(column => column?.id)));\r\n    this.list$ = this.collectionName$.pipe(\r\n      switchMap(collection => this.dataAdapterService.list(collection, this.metadata$.getValue()?.idField || 'id')),\r\n      tap(() => this.isLoading$.next(false)),\r\n      shareReplay(1)\r\n    );\r\n  }\r\n\r\n  getValue(element, column) {\r\n    return this.metadata$.pipe(map(\r\n      metadata => this.valueFormatService.transform(element[column], metadata?.fields[column]?.type, metadata?.fields[column])\r\n    ));\r\n  }\r\n\r\n  delete(element) {\r\n    this.isLoading$.next(true);\r\n    this.dataAdapterService.delete(this.collectionName$.getValue(), element?.id)\r\n      .subscribe(\r\n        () => this.snackbar.success(`${capitalize(this.metadata$.getValue()?.single)} added successfully!`),\r\n        () => this.snackbar.error(`There was an error adding ${this.metadata$.getValue()?.single}!`),\r\n        () => this.isLoading$.next(false)\r\n      );\r\n  }\r\n\r\n  private getDisplayedColumns() {\r\n    return this.metadata$.pipe(\r\n      withLatestFrom(this.subCollections$),\r\n      map(([metadata, subCollections]) => {\r\n        const collumns = this.getDisplayableColumns(metadata?.fields);\r\n        if (subCollections) {\r\n          collumns.push({ id: 'entities', label: 'Manage' });\r\n        }\r\n        collumns.push({ id: 'actions', label: 'Actions' });\r\n\r\n        return collumns;\r\n      }),\r\n      shareReplay(1)\r\n    );\r\n  }\r\n\r\n  private getDisplayableColumns(columns) {\r\n    if (!columns) {\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(pickBy(columns, col => col && !col?.hideInList)).map(column => {\r\n      return {\r\n        ...columns[column],\r\n        label: columns[column]?.label || this.getFieldLabel({ label: column }),\r\n        id: columns[column]?.id || column\r\n      };\r\n    });\r\n  }\r\n}\r\n","<div class=\"loading-box-overflow\"\r\n     *ngIf=\"isLoading$ | async\">\r\n  <mat-spinner diameter=\"50\"></mat-spinner>\r\n</div>\r\n<ng-container *ngIf=\"metadata$ | async as metadata; else noMetadata\">\r\n  <mat-administration-breadcrumbs [collectionName]=\"collectionName$ | async\"\r\n                                  action=\"update\"></mat-administration-breadcrumbs>\r\n  <mat-toolbar class=\"justify-between toolbar-main\">\r\n    <h1>Update {{metadata?.single}}</h1>\r\n    <span class=\"entity-title\">{{entityTitle$ | async}}<br /><small>#{{id$ | async}}</small></span>\r\n    <a mat-raised-button\r\n       color=\"warn\"\r\n       routerLink=\"/{{collectionPath$ | async}}/list\">\r\n      <mat-icon>keyboard_backspace</mat-icon> Cancel\r\n    </a>\r\n  </mat-toolbar>\r\n  <mat-toolbar *ngIf=\"subCollections$ | async as subCollections\">\r\n    <a *ngFor=\"let subCollection of subCollections\"\r\n       mat-raised-button\r\n       aria-label=\"Manage\"\r\n       routerLink=\"/{{collectionName$ | async}}:{{id$ | async}}:{{subCollection?.id}}/list\">\r\n      {{subCollection?.plural | titlecase}}\r\n    </a>\r\n  </mat-toolbar>\r\n  <mat-card>\r\n    <mat-administration-form *ngIf=\"fields$ | async\"\r\n                             [fields]=\"fields$ | async\"\r\n                             (save)=\"save($event);\"></mat-administration-form>\r\n  </mat-card>\r\n</ng-container>\r\n\r\n<ng-template #noMetadata>\r\n  <mat-chip-list>\r\n    <mat-chip color=\"warn\">No entity metadata defined for&nbsp;<strong>{{collectionName$ | async}}</strong>!</mat-chip>\r\n  </mat-chip-list>\r\n</ng-template>\r\n","import { Component, ChangeDetectionStrategy, Optional, Inject } from '@angular/core';\r\nimport { MetadataComponent } from '../metadata/metadata.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, combineLatest, BehaviorSubject } from 'rxjs';\r\nimport { map, shareReplay, takeUntil, tap, take, switchMap } from 'rxjs/operators';\r\nimport { SnackbarService } from '../../services/snackbar.service';\r\nimport { capitalize } from 'lodash';\r\nimport { DataAdapterService } from '../../services/data-adapter.service';\r\n\r\n@Component({\r\n  selector: 'mat-administration-update',\r\n  templateUrl: './update.component.html',\r\n  styleUrls: ['./update.component.scss']\r\n})\r\nexport class UpdateComponent extends MetadataComponent {\r\n  fields$: Observable<any[]>;\r\n  doc$: Observable<any>;\r\n  id$: BehaviorSubject<any> = new BehaviorSubject(null);\r\n  entityTitle$: Observable<string>;\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private snackbar: SnackbarService,\r\n    private router: Router,\r\n    public dataAdapterService: DataAdapterService,\r\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') public metadata: any\r\n  ) {\r\n    super(route, dataAdapterService, metadata);\r\n\r\n    this.route.params.pipe(map(params => params.id), takeUntil(this.destroyed$)).subscribe(this.id$);\r\n    this.doc$ = this.getDoc();\r\n    this.fields$ = combineLatest([this.getFields(), this.doc$])\r\n      .pipe(\r\n        map(([fields, doc]) => fields.map(field => {\r\n          return { ...field, value: this.getFieldValue(field, doc) };\r\n        }))\r\n      );\r\n    this.entityTitle$ = this.doc$.pipe(map(doc => doc?.[this.metadata$.getValue()?.titleField || 'title']));\r\n  }\r\n\r\n  save(item: any) {\r\n    this.isLoading$.next(true);\r\n\r\n    combineLatest([\r\n      this.metadata$,\r\n      this.collectionName$\r\n    ])\r\n      .pipe(\r\n        take(1),\r\n        switchMap(([metadata, collectionName]) => {\r\n          return this.processUploads(item, metadata, 'update').pipe(map(updatedItem => {\r\n            return [\r\n              metadata,\r\n              collectionName,\r\n              updatedItem\r\n            ];\r\n          }));\r\n        }),\r\n        switchMap(([_, collectionName, updatedItem]) =>\r\n          this.dataAdapterService.update(collectionName, this.id$.getValue(), this.getWithTimestamps(updatedItem, 'update'))\r\n        )\r\n      ).subscribe(\r\n        () => {\r\n          this.snackbar.success(`${capitalize(this.metadata$.getValue()?.single)} updated successfully!`);\r\n          this.router.navigate([`/${this.collectionPath$.getValue()}/list`]);\r\n        },\r\n        () => this.snackbar.error(`There was an error updating ${this.metadata$.getValue()?.single}!`),\r\n        () => this.isLoading$.next(false)\r\n      );\r\n  }\r\n\r\n  private getDoc() {\r\n    return this.dataAdapterService.get(this.collectionName$.getValue(), this.id$.getValue()).pipe(\r\n      tap(() => this.isLoading$.next(false)),\r\n      shareReplay(1)\r\n    );\r\n  }\r\n\r\n  private getFieldValue(field: any, doc: any) {\r\n    if (field?.type === 'timestamp') {\r\n      return doc?.[field?.name]?.toDate();\r\n    }\r\n\r\n    return doc?.[field?.name];\r\n  }\r\n}\r\n","<mat-nav-list color=\"primary\">\n  <ng-container *ngFor=\"let entity of entities\">\n    <a mat-list-item\n       color=\"primary\"\n       routerLinkActive=\"active\"\n       [routerLink]=\"entity.id\"> {{entity.plural | titlecase}} </a>\n    <mat-divider *ngIf=\"entity?.showMenuDividerAfter\"></mat-divider>\n  </ng-container>\n</mat-nav-list>\n","import { Component, OnInit, Optional, Inject } from '@angular/core';\n\n@Component({\n  selector: 'mat-administration-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})\nexport class MenuComponent {\n  entities = Object.keys(this.metadata?.entities).filter((key: any) => !this.metadata.entities[key]?.hideList).map(key => {\n    return {\n      id: key,\n      ...this.metadata.entities[key]\n    };\n  });\n\n  constructor(\n    @Optional() @Inject('MAT_ADMINISTRATION_METADATA') private metadata: any\n  ) { }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ListComponent, AddComponent, UpdateComponent, MetadataComponent, FormComponent, MenuComponent, BreadcrumbsComponent } from './components/index';\r\nimport { ValueFormatService } from './services/value-format.service';\r\nimport { CdkTableModule } from '@angular/cdk/table';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatFileInputModule } from '@weblauncher/material-file-input';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { AngularFireStorageModule } from '@angular/fire/storage';\r\nimport { FirebaseAppConfig, FIREBASE_OPTIONS, FIREBASE_APP_NAME } from '@angular/fire';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ListComponent,\r\n    AddComponent,\r\n    UpdateComponent,\r\n    MetadataComponent,\r\n    FormComponent,\r\n    BreadcrumbsComponent,\r\n    MenuComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatChipsModule,\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatToolbarModule,\r\n    RouterModule,\r\n    MatProgressSpinnerModule,\r\n    CdkTableModule,\r\n    MatTableModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatFileInputModule,\r\n    MatButtonModule,\r\n    CKEditorModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatRadioModule,\r\n    MatCheckboxModule,\r\n    MatSlideToggleModule,\r\n    MatDatepickerModule,\r\n    MatSnackBarModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatSortModule,\r\n    AngularFirestoreModule,\r\n    AngularFireStorageModule,\r\n    FlexLayoutModule,\r\n    MatMenuModule,\r\n    MatSidenavModule,\r\n    MatListModule\r\n  ],\r\n  providers: [\r\n    ValueFormatService,\r\n    DatePipe\r\n  ],\r\n  exports: [\r\n    ListComponent,\r\n    AddComponent,\r\n    UpdateComponent,\r\n    MetadataComponent,\r\n    FormComponent,\r\n    MenuComponent,\r\n    BreadcrumbsComponent,\r\n    RouterModule,\r\n    BrowserAnimationsModule,\r\n    AngularFirestoreModule,\r\n    AngularFireStorageModule\r\n  ]\r\n})\r\nexport class MaterialAdministrationModule {\r\n  static forRoot(\r\n    configFactory: FirebaseAppConfig,\r\n    appNameFactory: () => string | undefined = () => undefined,\r\n  ): ModuleWithProviders {\r\n    return {\r\n      ngModule: MaterialAdministrationModule,\r\n      providers:\r\n        [\r\n          {\r\n            provide: FIREBASE_OPTIONS,\r\n            useValue: configFactory\r\n          },\r\n          {\r\n            provide: FIREBASE_APP_NAME,\r\n            useFactory: appNameFactory\r\n          },\r\n          ValueFormatService\r\n        ]\r\n    };\r\n  }\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { ListComponent, AddComponent, UpdateComponent } from './components';\r\n\r\nexport const materialAdministrationRoutes: Routes = [\r\n  {\r\n    path: ':collection/list',\r\n    component: ListComponent\r\n  },\r\n  {\r\n    path: ':collection/add',\r\n    component: AddComponent\r\n  },\r\n  {\r\n    path: ':collection/update/:id',\r\n    component: UpdateComponent\r\n  },\r\n  {\r\n    path: ':collection',\r\n    redirectTo: ':collection/list'\r\n  }];\r\n"],"names":["from","uuidv4","Subject","finalize","filter","firebase.firestore","Injectable","BehaviorSubject","map","tap","takeUntil","shareReplay","capitalize","switchMap","forkJoin","catchError","of","take","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","Component","Optional","Inject","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵtemplate","i0.ɵɵproperty","Input","i0.ɵɵelementContainer","i0.ɵɵelement","i0.ɵɵtextInterpolate","i0.ɵɵlistener","EventEmitter","Validators","ChangeDetectionStrategy","Output","i0.ɵɵpropertyInterpolate1","combineLatest","i0.ɵɵstyleMap","i0.ɵɵpropertyInterpolate3","i0.ɵɵpropertyInterpolate2","withLatestFrom","pickBy","FIREBASE_OPTIONS","FIREBASE_APP_NAME","DatePipe","CommonModule","MatChipsModule","MatCardModule","MatIconModule","MatToolbarModule","RouterModule","MatProgressSpinnerModule","CdkTableModule","MatTableModule","FormsModule","ReactiveFormsModule","MatFormFieldModule","MatFileInputModule","MatButtonModule","CKEditorModule","MatInputModule","MatSelectModule","MatRadioModule","MatCheckboxModule","MatSlideToggleModule","MatDatepickerModule","MatSnackBarModule","MatNativeDateModule","MatPaginatorModule","MatSortModule","AngularFirestoreModule","AngularFireStorageModule","FlexLayoutModule","MatMenuModule","MatSidenavModule","MatListModule","BrowserAnimationsModule","NgModule"],"mappings":"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"}