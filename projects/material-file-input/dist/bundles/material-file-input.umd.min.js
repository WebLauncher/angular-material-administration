!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/material/form-field"),require("rxjs"),require("@angular/forms"),require("@angular/cdk/coercion"),require("rxjs/operators"),require("@angular/cdk/a11y"),require("@angular/common"),require("@angular/material/button"),require("@angular/material/input")):"function"==typeof define&&define.amd?define("material-file-input",["exports","@angular/core","@angular/material/form-field","rxjs","@angular/forms","@angular/cdk/coercion","rxjs/operators","@angular/cdk/a11y","@angular/common","@angular/material/button","@angular/material/input"],t):t((e=e||self)["material-file-input"]={},e.ng.core,e.ng.material.formField,e.rxjs,e.ng.forms,e.ng.cdk.coercion,e.rxjs.operators,e.ng.cdk.a11y,e.ng.common,e.ng.material.button,e.ng.material.input)}(this,(function(e,t,n,i,o,r,a,l,u,s,c){"use strict";var d=["file"];function p(e,n){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"input",5,6),t.ɵɵlistener("change",(function(){return t.ɵɵrestoreView(i),t.ɵɵnextContext().onFilesAdded()})),t.ɵɵelementEnd()}}function f(e,n){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"input",7,6),t.ɵɵlistener("change",(function(){return t.ɵɵrestoreView(i),t.ɵɵnextContext().onFilesAdded()})),t.ɵɵelementEnd()}}var m=function(){function e(t,n,r,l){var u=this;this.ngControl=t,this.fm=r,this.elRef=l,this.id="mat-file-input-"+e.nextId++,this.placeholderValue="",this.requiredValue=!1,this.disabledValue=!1,this.buttonText="Choose...",this.errorState=!1,this.controlType="mat-material-file-input",this.describedBy="",this.multiple=!1,this.stateChanges=new i.Subject,this.focused=!1,this.destroyed$=new i.Subject,null!=this.ngControl&&(this.ngControl.valueAccessor=this),this.form=new o.FormControl(null),this.form.valueChanges.pipe(a.takeUntil(this.destroyed$)).subscribe((function(e){u.onChange&&u.onChange(e)})),r.monitor(l.nativeElement,!0).subscribe((function(e){u.focused=!!e,u.stateChanges.next()}))}return Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.placeholderValue},set:function(e){this.placeholderValue=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=r.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.disabledValue},set:function(e){this.disabledValue=r.coerceBooleanProperty(e),this.disabledValue?this.form.disable():this.form.enable(),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.form.value},set:function(e){this.form.setValue(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.form.value},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.stateChanges.complete(),this.fm.stopMonitoring(this.elRef.nativeElement),this.destroyed$.next(),this.destroyed$.complete()},e.prototype.onContainerClick=function(e){"input"!==e.target.tagName.toLowerCase()&&this.elRef.nativeElement.querySelector("input").focus()},e.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(){},e.prototype.openChooseFile=function(){this.value&&(this.value=null,this.file.nativeElement.value=""),this.file.nativeElement.click()},e.prototype.onFilesAdded=function(){var e=Object.values(this.file.nativeElement.files);this.value=e},e.prototype.getName=function(){var e;return this.value?this.multiple?this.value.map((function(e){return null==e?void 0:e.name})).join(", "):null===(e=this.value[0])||void 0===e?void 0:e.name:""},e.nextId=0,e.ɵfac=function(n){return new(n||e)(t.ɵɵdirectiveInject(o.NgControl,10),t.ɵɵdirectiveInject(o.FormBuilder),t.ɵɵdirectiveInject(l.FocusMonitor),t.ɵɵdirectiveInject(t.ElementRef))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["mat-file-input"]],viewQuery:function(e,n){var i;(1&e&&t.ɵɵviewQuery(d,!0),2&e)&&(t.ɵɵqueryRefresh(i=t.ɵɵloadQuery())&&(n.file=i.first))},hostVars:4,hostBindings:function(e,n){2&e&&(t.ɵɵhostProperty("id",n.id),t.ɵɵattribute("aria-describedby",n.describedBy),t.ɵɵclassProp("floating",n.shouldLabelFloat))},inputs:{placeholder:"placeholder",required:"required",disabled:"disabled",buttonText:"buttonText",multiple:"multiple"},features:[t.ɵɵProvidersFeature([{provide:n.MatFormFieldControl,useExisting:e}])],decls:6,vars:5,consts:[[1,"mat-material-file-input-container",3,"click"],["readonly","readonly",1,"name",3,"placeholder","value"],["type","file","style","display: none","multiple","",3,"change",4,"ngIf"],["type","file","style","display: none",3,"change",4,"ngIf"],["mat-stroked-button",""],["type","file","multiple","",2,"display","none",3,"change"],["file",""],["type","file",2,"display","none",3,"change"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("click",(function(){return n.openChooseFile()})),t.ɵɵelement(1,"input",1),t.ɵɵtemplate(2,p,2,0,"input",2),t.ɵɵtemplate(3,f,2,0,"input",3),t.ɵɵelementStart(4,"button",4),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("placeholder",n.placeholder),t.ɵɵproperty("value",n.getName()),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.multiple),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.multiple),t.ɵɵadvance(2),t.ɵɵtextInterpolate(n.buttonText))},directives:[u.NgIf,s.MatButton],styles:[".mat-material-file-input-container[_ngcontent-%COMP%]{display:flex}span[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.floating[_nghost-%COMP%]   span[_ngcontent-%COMP%]{opacity:1}input[_ngcontent-%COMP%]{border:none;background:0 0;padding:0;outline:0;font:inherit;flex-grow:1;text-align:left}button[_ngcontent-%COMP%]{line-height:normal}"],changeDetection:0}),e}(),h=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[u.CommonModule,c.MatInputModule,s.MatButtonModule,o.ReactiveFormsModule,o.FormsModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(h,{declarations:[m],imports:[u.CommonModule,c.MatInputModule,s.MatButtonModule,o.ReactiveFormsModule,o.FormsModule],exports:[m]}),e.MatFileInputComponent=m,e.MatFileInputModule=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=material-file-input.umd.min.js.map